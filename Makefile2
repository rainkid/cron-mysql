CC= gcc
TARGET= main
OBJS= base64.o main.o send_mail.o task.o tool.o
INCLUDE=-I/usr/include/mysql -L/usr/lib/mysql -lmysqlclient -L/usr/local/curl/lib/ -lcurl -I/usr/local/curl/include/
FLAGS= -g -Wall -lrt -lpthread -lm -lc -lz

$(TARGET) : $(OBJS)
	$(CC) -o $(TARGET) $(OBJS)
	
base64.o : base64.h
send_mail.o : send_mail.h
task.o : task.h
tool.o : 
	$(CC) -c tool.h tool.c $(INCLUDE) $(FLAGS)
main.o : 
	$(CC) -c main.c $(INCLUDE) $(FLAGS)

.PHONY : clean
clean :
	rm $(TARGET) $(OBJS)